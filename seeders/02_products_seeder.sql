-- ===========================================
-- Seeder للمنتجات (Products)
-- يشمل: منتجات المخبزة بأسعار EUR و SYP
-- ===========================================

USE `bakery_db_test`;

-- تعطيل فحص المفاتيح الخارجية مؤقتاً
SET FOREIGN_KEY_CHECKS = 0;

-- مسح البيانات الموجودة
DELETE FROM `products`;

-- إعادة تعيين AUTO_INCREMENT
ALTER TABLE `products` AUTO_INCREMENT = 1;

-- إدراج المنتجات
INSERT INTO `products` (
    `name`, `description`, `unit`, `price_eur`, `price_syp`, `cost_eur`, `cost_syp`,
    `category`, `barcode`, `image_url`, `is_active`
) VALUES 
-- منتجات الخبز الطازج
('خبز أبيض فرنسي', 'خبز فرنسي طازج يومياً من أجود أنواع الدقيق', 'رغيف', 2.50, 4500.00, 1.20, 2160.00, 'خبز', '2001001', '/images/bread_white.jpg', TRUE),
('خبز أسمر كامل', 'خبز القمح الكامل الصحي والمغذي', 'رغيف', 3.00, 5400.00, 1.50, 2700.00, 'خبز', '2001002', '/images/bread_brown.jpg', TRUE),
('باجيت فرنسي', 'باجيت فرنسي تقليدي بالقشرة المقرمشة', 'قطعة', 3.50, 6300.00, 1.80, 3240.00, 'خبز', '2001003', '/images/baguette.jpg', TRUE),
('خبز الذرة', 'خبز الذرة الحلو المميز', 'رغيف', 2.80, 5040.00, 1.40, 2520.00, 'خبز', '2001004', '/images/corn_bread.jpg', TRUE),

-- المعجنات والحلويات
('كرواسان زبدة', 'كرواسان فرنسي بالزبدة الطبيعية', 'قطعة', 4.50, 8100.00, 2.20, 3960.00, 'معجنات', '2002001', '/images/croissant.jpg', TRUE),
('دانيش الجبن', 'معجنات دانماركية محشوة بالجبن', 'قطعة', 5.20, 9360.00, 2.60, 4680.00, 'معجنات', '2002002', '/images/danish_cheese.jpg', TRUE),
('مافن التوت', 'مافن طازج بالتوت البري', 'قطعة', 3.80, 6840.00, 1.90, 3420.00, 'حلويات', '2002003', '/images/muffin_berry.jpg', TRUE),
('إكلير الشوكولاتة', 'إكلير محشو بكريمة الشوكولاتة', 'قطعة', 6.00, 10800.00, 3.00, 5400.00, 'حلويات', '2002004', '/images/eclair.jpg', TRUE),

-- الكعك والتورتات
('كيك الفانيليا', 'كيك الفانيليا الكلاسيكي - حجم صغير', 'قطعة', 15.00, 27000.00, 7.50, 13500.00, 'كعك', '2003001', '/images/vanilla_cake.jpg', TRUE),
('كيك الشوكولاتة', 'كيك الشوكولاتة الغني - حجم متوسط', 'قطعة', 18.00, 32400.00, 9.00, 16200.00, 'كعك', '2003002', '/images/chocolate_cake.jpg', TRUE),
('تورتة الفراولة', 'تورتة طازجة بالفراولة والكريمة', 'قطعة', 25.00, 45000.00, 12.50, 22500.00, 'تورتات', '2003003', '/images/strawberry_cake.jpg', TRUE),
('كيك الجزر', 'كيك الجزر الصحي بالقرفة', 'قطعة', 16.50, 29700.00, 8.25, 14850.00, 'كعك', '2003004', '/images/carrot_cake.jpg', TRUE),

-- البسكويت والكوكيز
('كوكيز الشوكولاتة', 'كوكيز مقرمش برقائق الشوكولاتة', 'قطعة', 2.20, 3960.00, 1.10, 1980.00, 'بسكويت', '2004001', '/images/chocolate_cookies.jpg', TRUE),
('بسكويت الزبدة', 'بسكويت الزبدة التقليدي', 'قطعة', 1.80, 3240.00, 0.90, 1620.00, 'بسكويت', '2004002', '/images/butter_cookies.jpg', TRUE),
('مكرون اللوز', 'مكرون فرنسي بنكهات متنوعة', 'قطعة', 3.50, 6300.00, 1.75, 3150.00, 'بسكويت', '2004003', '/images/macarons.jpg', TRUE),

-- الفطائر والبيتزا
('فطيرة السبانخ', 'فطيرة محشوة بالسبانخ والجبن', 'قطعة', 4.80, 8640.00, 2.40, 4320.00, 'فطائر', '2005001', '/images/spinach_pie.jpg', TRUE),
('فطيرة اللحم', 'فطيرة محشوة باللحم والخضار', 'قطعة', 6.50, 11700.00, 3.25, 5850.00, 'فطائر', '2005002', '/images/meat_pie.jpg', TRUE),
('بيتزا مارغريتا', 'بيتزا كلاسيكية بالطماطم والجبن', 'قطعة', 12.00, 21600.00, 6.00, 10800.00, 'بيتزا', '2005003', '/images/pizza_margherita.jpg', TRUE),
('بيتزا بيبروني', 'بيتزا بيبروني حارة', 'قطعة', 14.50, 26100.00, 7.25, 13050.00, 'بيتزا', '2005004', '/images/pizza_pepperoni.jpg', TRUE),

-- المشروبات
('قهوة إسبريسو', 'قهوة إسبريسو إيطالية أصيلة', 'كوب', 2.80, 5040.00, 1.40, 2520.00, 'مشروبات', '2006001', '/images/espresso.jpg', TRUE),
('كابتشينو', 'كابتشينو بالحليب المبخر', 'كوب', 3.50, 6300.00, 1.75, 3150.00, 'مشروبات', '2006002', '/images/cappuccino.jpg', TRUE),
('عصير برتقال طازج', 'عصير برتقال طبيعي 100%', 'كوب', 4.20, 7560.00, 2.10, 3780.00, 'مشروبات', '2006003', '/images/orange_juice.jpg', TRUE),
('شاي أخضر', 'شاي أخضر صحي ومنعش', 'كوب', 2.50, 4500.00, 1.25, 2250.00, 'مشروبات', '2006004', '/images/green_tea.jpg', TRUE),

-- منتجات موسمية
('كعك عيد الميلاد', 'كعك خاص بموسم الأعياد', 'قطعة', 20.00, 36000.00, 10.00, 18000.00, 'موسمي', '2007001', '/images/christmas_cake.jpg', TRUE),
('بان دي توني', 'كعك إيطالي تقليدي للأعياد', 'قطعة', 22.00, 39600.00, 11.00, 19800.00, 'موسمي', '2007002', '/images/panettone.jpg', TRUE);

-- إعادة تشغيل فحص المفاتيح الخارجية
SET FOREIGN_KEY_CHECKS = 1;

-- تأكيد البيانات
SELECT '✅ تم إدراج بيانات المنتجات بنجاح' AS status;
SELECT 
    CONCAT('إجمالي المنتجات: ', COUNT(*)) AS total_products,
    CONCAT('فئات المنتجات: ', COUNT(DISTINCT category)) AS categories,
    CONCAT('متوسط السعر EUR: ', ROUND(AVG(price_eur), 2)) AS avg_price_eur,
    CONCAT('متوسط السعر SYP: ', FORMAT(AVG(price_syp), 0)) AS avg_price_syp
FROM products;

-- عرض الفئات
SELECT 
    category AS 'الفئة',
    COUNT(*) AS 'عدد المنتجات',
    ROUND(AVG(price_eur), 2) AS 'متوسط السعر EUR',
    FORMAT(AVG(price_syp), 0) AS 'متوسط السعر SYP'
FROM products 
GROUP BY category
ORDER BY COUNT(*) DESC; 